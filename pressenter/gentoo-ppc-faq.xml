<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/pl/gentoo-ppc-faq.xml,v 1.22 2007/06/03 14:28:03 rane Exp $ -->

<guide link="/doc/pl/gentoo-ppc-faq.xml" lang="pl">
<title>Gentoo/PPC, często zadawane pytania</title>

<author title="Redaktor">
  <mail link="rajiv@gentoo.org">Rajiv Manglani</mail>
</author>
<author title="Redaktor">
  <mail link="pylon@gentoo.org">Lars Weiler</mail>
</author>
<author title="Redaktor">
  <mail link="sejo@gentoo.org">Jochen Maes </mail>
</author>
<author title="Redaktor">
  <mail link="josejx@gentoo.org">Joseph Jezak</mail>
</author>
<author title="Tłumaczenie">
  <mail link="edi15ta@gazeta.pl">Mateusz Kotyrba</mail>
</author>

<abstract>
Zbiór pytań i odpowiedzi z listy dyskusyjnej gentoo-ppc-dev oraz z IRC-a.
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.35</version>
<date>2007-05-17</date>

<chapter>
<title>Pytania</title>
<section>
<title>Wprowadzenie</title>
<body>

<p>
Ten dokument jest zbiorem pytań i odpowiedzi z listy dyskusyjnej gentoo-ppc-dev
oraz z IRC-a. Wszelkie propozycje pytań (i odpowiedzi) do dodania, proszę
kierować do autora tekstu lub do zespołu dokumentacji Gentoo.
</p>

</body>
</section>
<section>
<title>Instalacja</title>
<body>

<ul>
   <li>
    <uri link="#powerpc">
     Jak mogę się dowiedzieć, jaki rodzaj PPC posiadam, oraz gdzie mogę znaleźć
     więcej informacji na ten temat?
    </uri>
   </li>
   <li>
    <uri link="#osxverify">
      Jak pod OSX sprawdzić, czy pobrany plik nie jest uszkodzony?
    </uri>
  </li>
  <li>
    <uri link="#dualboot">
     Czy można mieć jednocześnie zainstalowane Mac OS X i
     Gentoo?
    </uri>
  </li>
  <li>
    <uri link="#bwof">
      Jestem posiadaczem wczesnych NewWorld Mac takich jak Blue i White G3.
      Powinny one być zgodne z LiveCD, ale w trakcie ładowania systemu zwracany
      jest błąd "Unknown or corrupt filesystem".
    </uri>
  </li>
  <li>
    <uri link="#bootxarchive">
      Posiadacze OldWorld Macintosh powinni używać BootX. Jednakże czasem
      występują problemy z otwarciem archiwum instalatora BootX. Co wtedy
      zrobić?
    </uri>
  </li>
  <li>
    <uri link="#beigehd">
      Mam Beige G3. Czy mogę zainstalować Gentoo na PPC na drugim dysku IDE
      maszyny Beige G3?
    </uri>
  </li>
  <li>
    <uri link="#gblimit">
      Po wymianie dysku twardego w iMacu serii A lub B na większy nie można
      załadować żadnego systemu!
    </uri>
  </li>
  <li>
    <uri link="#fstabboot">
      Plik /etc/fstab zawiera linię /dev/BOOT. Czy należy ustawić tę linię na
      partycję Apple bootstrap?
    </uri>
  </li>
  <li>
    <uri link="#fixit">
      Po ponownym uruchomieniu systemu yaboot nie zadziałał! Jak to naprawić?
    </uri>
  </li>
  <li>
    <uri link="#xfs">
     Przy próbie uruchomienia yaboot pokazuje tylko "read error"! Dlaczego nie
     mogę go uruchomić?
    </uri>
  </li>
  <li>
    <uri link="#applebrokeit">
     Po zainstalowaniu aktualizacji OSX komputer pozwala tylko na uruchomienie
     tego systemu. W jaki sposób można to naprawić?
    </uri>
  </li>
  <li>
    <uri link="#stupidclock">
      Nie mogę uruchomić komputera za pomocą InstallCD! Zatrzymuje się na
      etapie ustawiania zegara sprzętowego. Co robić?
    </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Obsługa sprzętu</title>
<body>

<ul>
  <li>
    <uri link="#laptoppkgs">
      Jakie pakiety należy zainstalować, pracując na Gentoo na laptopie PowerPC,
      aby załączyć zespół funkcji charakterystycznych dla laptopów?
    </uri>
  </li>
  <li>
    <uri link="#onebutton">
      Jak można używać drugiego i trzeciego przycisku myszy, posiadając mysz z
      jednym przyciskiem (przycisk ctrl nie działa)?
    </uri>
  </li>
  <li>
    <uri link="#airport">Jak skonfigurować kartę Airport?</uri>
  </li>
  <li>
    <uri link="#airportextreme">
      Jak skonfigurować kartę Airport Extreme?
    </uri>
  </li>
  <li>
    <uri link="#modem">
      Czy zadziała modem wewnętrzny?
    </uri>
  </li>
  <li>
    <uri link="#sleep">Czy działa uśpienie w iBooku lub PowerBooku?</uri>
  </li>
  <li>
    <uri link="#sound">Jak uruchomić dźwięk?</uri>
    <ul>
      <li>
        <uri link="#alsa">Ustawienie dźwięku za pomocą ALSA</uri>
      </li>
      <li>
        <uri link="#oss">Ustawienie dźwięku za pomocą OSS</uri>
      </li>
    </ul>
  </li>
  <li>
    <uri link="#wakeon">
      Jak sprawić, aby karta sieciowa uruchamiała się po zaniknięciu zasilania?
    </uri>
  </li>
  <li>
    <uri link="#infrombadport">
      W pliku dmesg znajduje się dużo błędów typu "IN from bad port". Jak się
      ich pozbyć?
    </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Programy</title>
<body>

<ul>
  <li>
    <uri link="#masked">
      Podczas próby instalacji pakietu wyświetlany jest błąd mówiący o tym, że
      pakiet został zamaskowany. Co zrobić?
    </uri>
  </li>
  <li>
    <uri link="#flash">Czy Gentoo na architekturze PPC wspiera Flash?</uri>
  </li>
  <li>
    <uri link="#java">Czy Gentoo na architekturze PPC ma wtyczkę z Javą?</uri>
  </li>
  <li>
    <uri link="#xorg">Czy istnieje prosty sposób konfiguracji środowiska
    X?</uri>
  </li>
  <li>
    <uri link="#drm">Czego wymaga DRM?</uri>
  </li>
  <li>
    <uri link="#noati">
     Zainstalowano X.org i skonfigurowano go poprawnie, ale brakuje sterownika
     radeon. W czym tkwi problem?
    </uri>
  </li>
  <li>
    <uri link="#xorgerror">
     W pliku xorg.log pojawia się błąd VBIOS lub "Invalid I/O allocation". Czy
     to poważny problem?
    </uri>
  </li>
  <li>
    <uri link="#glfreeze">
    Co mogę zrobić, jeżeli podczas używania OpenGL DRI, lub oglądania filmów
    system niespodziewanie blokuje się?</uri>
  </li>
  <li>
    <uri link="#keymap">
      Międzynarodowy układ klawiatury nie działa poprawnie na zainstalowanym
      Xorgu. Główne klawisze działają dobrze, ale nie da się złożyć żadnego
      znaku specjalnego, chociażby znaku "@". Wyjście startx wyświetla coś w
      rodzaju "could not load keymap, falling back to default keymap". Co jest
      źle?
    </uri>
  </li>
  <li>
    <uri link="#audiocd">Jak odtwarzać płyty audio?</uri>
  </li>
  <li>
    <uri link="#mol">
     Czy można uruchomić Mac OS 9 lub Mac OS X w czasie działania Linuksa?
    </uri>
  </li>
  <li>
    <uri link="#ext">Czy mamy dostęp do partycji ext2 lub ext3 spod OSX?</uri>
  </li>
  <li>
    <uri link="#useflags">
      Które flagi USE nie działają na maszynach PowerPC?
    </uri>
  </li>
  <li>
    <uri link="#distcc">Jak ustawić distcc z maszyną opartą na architekturze
    x86?</uri>
  </li>
  <li>
    <uri link="#gccsegfaults">
      Dlaczego gcc wyświetla błędy podczas budowania pakietów?
    </uri>
  </li>
</ul>

</body>
</section>
<section>
<title>Zasoby</title>
<body>

<ul>
  <li>
    <uri link="#cd">Czy można kupić płytę CD z Gentoo na architekturę
    PPC?</uri>
  </li>
  <li>
    <uri link="#notanswered">
      Nie ma tu odpowiedzi na moje pytanie, co robić dalej?
    </uri>
  </li>
</ul>

</body>
</section>
</chapter>

<chapter>
<title>Instalacja</title>
<section id="powerpc">
<title>
Jak mogę się dowiedzieć jaki rodzaj PPC posiadam, oraz gdzie mogę znaleźć więcej
informacji na ten temat?
</title>
<body>

<p>
Witamy w Gentoo PPC!. Procesory PowerPC zostały użyte w wielu komputerach.
Poniżej znajduje się kilka odnośników, ktore pomogą nam dowiedzieć się jaki
rodzaj PPC posiadamy.
</p>

<ul>
 <li>
   <uri link="http://www.info.apple.com/support/applespec.html">Strony produktów
   Apple</uri>
 </li>
 <li>
   <uri link="http://lowendmac.com/profiles.htm">Sczegóły oraz historia
   produktów Apple</uri>
 </li>
 <li>
   <uri link="http://www.pegasosppc.com/products.php">Informacje na temat modelu
   Genesi</uri>
 </li>
 <li>
   <uri
   link="http://publib.boulder.ibm.com/infocenter/pseries/v5r3/index.jsp?topic=/com.ibm.pseries.doc/hardware_docs/selectbysystem.htm">
   Dokumentacja dotyczącą systemów pSeries POWER4 i RS/6000</uri>
 </li>
 <li>
   <uri link="http://kurobox.com/">KuroBox</uri>
 </li>
 <li>
   <uri link="http://penguinppc.org/">PenguinPPC - Informacje dotyczące Linuksa
   na PowerPC</uri>
 </li>
</ul>

</body>
</section>
<section id="osxverify">
<title>Jak pod OSX sprawdzić, czy pobrany plik nie jest uszkodzony?</title>
<body>

<p>
W pierwszej kolejności należy się upewnić, że nie zamontowaliśmy serwera ftp za
pomocą Findera i nie skopiowaliśmy pliku metodą przeciągnij-i-upuść. To
spowoduje uszkodzenie pliku ISO. Zamiast tego, należy użyć programu curl
(przykładowo curl -O http://ścieżka/do/pliku/iso).
</p>

<p>
Sumy MD5 można skontrolować za pomocą narzędzia md5sum dostarczanego przez OSX.
Na systemach nie zawierających tego programu będziemy musieli używać możliwości
openssl do wytworzenia sum kontrolnych md5. Zatem wpisujemy w terminalu
następujące polecenie:
</p>

<pre caption="Generowanie sum kontrolnych">
<comment>(To może zająć trochę czasu, zależnie od wielkości pliku ISO oraz wydajności procesora)</comment>
$ <i>openssl md5 /path/to/iso</i>
</pre>

<p>
Następnie porównujemy wynik z odpowiednim plikiem (plik z rozszerzeniem .md5)
znalezionym na serwerze, z którego ściągaliśmy plik ISO. Jeśli oba ciągi znaków
są takie same, to obraz ISO został ściągnięty poprawnie. Należy sprawdzić czy
nie został on już zamontowany (przykładowo z Disk Copy).
</p>

</body>
</section>
<section id="dualboot">
<title>Czy można mieć jednocześnie zainstalowane Mac OS X i Gentoo?</title>
<body>

<p>
Tak! W rzeczywistości <e>yabootconfig</e> automatycznie wykryje i ustawi
<path>/etc/yaboot.conf</path> z systemem Linux, Mac OS X, a nawet z klasycznym
Mac OS (po dodatkowe informacje o yabootconfig należy sięgnąć do <uri
link="/doc/pl/handbook/handbook-ppc.xml?part=1&amp;chap=10">Podręcznika Gentoo
</uri>). Sztuka polega na tym, aby dobrze podzielić dysk na partycje. Przed
instalacją Gentoo, należy uruchomić system za pomocą płyty instalacyjnej Mac
OS X. Używamy <c>Disk Utility</c>, aby podzielić dysk na 2 lub 3 partycje.
Ewentualnie można użyć <c>parted</c> z najnowszej płyty instalacyjnej, ponieważ
obsługuje on partycje HFS i HFS+. Parted potrafi także zmniejszyć partycję,
więc nie ma potrzeby usuwania istniejącej instalacji. Pierwsza partycja powinna
być na tyle duża, aby zmieściły się na niej wszystkie partycje linuksowe
(root+swap+/home itd.). Postać tej partycji nie ma znaczenia. Druga partycja
jest przeznaczona dla Mac OS X. Trzecia (opcjonalna) partycja jest przeznaczona
dla klasycznego Mac OS. Jest ona potrzebna tylko w przypadku, gdy chcemy
umieścić Mac OS 9 na osobnej partycji.
</p>

<p>
Po podzieleniu dysku, czas na instalację Mac OS X i Mac OS 9 na ich
odpowiednich partycjach. Po zakończeniu instalacji, uruchamiamy <uri
link="/doc/pl/handbook/handbook-ppc.xml">Podręcznik Gentoo</uri>. Kiedy
dojdziemy do rozdziału o podziale dysków na partycje, używamy <c>mac-fdisk</c>
do <e>usunięcia</e> dużej partycji dla Gentoo. Na tym miejscu tworzymy
partycję bootstrap, root, swap, i inne partycje, których potrzebujemy
do pracy z Gentoo.
</p>

<p>
Jeśli jesteśmy posiadaczami OldWorld Macintosh (pre-iMac), kierujemy się
podobną procedurą jak wyżej opisana, z tym, że należy użyć płyty instalacyjnej
Mac OS 9 i narzędzia <c>Drive Setup</c>. Maszyny OldWorld nie potrzebują
partycji bootstrap.
</p>

<note>
Jeśli yabootconfig nie wykryje partycji MacOS, możemy ręcznie je dodać do
yaboot.config. Po dodatkowe informacje należy udać się do <uri
link="/doc/pl/handbook/handbook-ppc.xml?part=1&amp;chap=10#doc_chap_pre6">
podręcznika</uri>, gdzie znajduje się przykładowy yaboot.conf.
</note>

</body>
</section>
<section id="bwof">
<title>
Jestem posiadaczem wczesnych NewWorld Mac takich jak Blue i White G3. Powinny
one być zgodne z LiveCD, ale w trakcie ładowania systemu zwracany jest błąd
"Unknown or corrupt filesystem".
</title>
<body>

<p>
Aby to obejść należy załadować Open Firmware, poprzez przytrzymanie
kombinacji klawiszy Apple + Option + O + F, podczas startu systemu. Kiedy
pojawi się znak zachęty wpisujemy:
</p>

<pre caption="Rozwiązanie dla wczesnych NewWorld Mac poprzez Open Firmware">
<i>boot cd:,\\yaboot</i>
</pre>

<p>
Po czym powinna się załadować płyta CD. Wielkie dzięki dla Johna Plesmid, który
podał to rozwiązanie.
</p>

</body>
</section>
<section id="bootxarchive">
<title>
Posiadacze OldWorld Macintosh powinni używać BootX. Jednakże czasem występują
problemy z otwarciem archiwum instalatora BootX. Co wtedy zrobić?
</title>
<body>

<p>
Do otwarcia archiwum potrzebna będzie nowa wersja <e>StuffIt Expander</e>.
Możemy <uri link="http://www.stuffit.com/expander/download.html">ściągnąć
go</uri> za darmo.
</p>

</body>
</section>
<section id="beigehd">
<title>
Czy można zainstalować Gentoo na PPC na drugim dysku IDE maszyny Beige G3?
</title>
<body>

<p>
Wczesne modele Beige G3 (te z płytą główną "Rev 1" oraz układem ATI RageII+)
nie wspierają dysków IDE podpiętych jako slave. Aby używać drugiego dysku na
tej maszynie należy dołączyć do niej wewnętrzne lub zewnętrzne łącze SCSI, po
czym należy zainstalować kartę PCI IDE. Późniejsze maszyny G3 nie posiadają
tych ograniczeń. Po dodatkowe informacje należy zajrzeć na stronę
<uri>http://www.xlr8yourmac.com/G3-ZONE/IDE/index.html</uri>.
</p>

</body>
</section>
<section id="gblimit">
<title>
Po wymianie dysku twardego w iMacu serii A lub B na większy nie można załadować
jakiegokolwiek systemu!
</title>
<body>

<p>
Te maszyny posiadają ograniczenie na wielkość partycji głównego systemu plików,
która nie może być większa niż 8GB. Należy się upewnić, że główny system plików
ma mniejszy rozmiar niż 8GB, po czym wszystko powinno działać jak należy. To
także ma zastosowanie dla OS X i późniejszych wersji OS 9.
</p>

</body>
</section>
<section id="fstabboot">
<title>
Plik /etc/fstab zawiera linię /dev/BOOT. Czy należy ustawić tę linię na
partycję Apple bootstrap?
</title>
<body>

<p>
Nie. Jeśli nie używamy osobnej partycji rozruchowej (<path>/boot</path>),
wtedy nie należy się przejmować tą linią i można ją bez żadnych obaw usunąć.
Partycja Apple bootstrap <e>nie</e> jest partycją <path>/boot</path>, obie
partycje nie są w żaden sposób powiązane. Ogólnie rzecz biorąc maszyny Apple
PowerPC nie potrzebują osobnej partycji rozruchowej <path>/boot</path>, a
partycja bootstrap nie powinna być zamontowana ani wpisana do pliku fstab.
</p>

</body>
</section>
<section id="fixit">
<title>
Po ponownym uruchomieniu systemu yaboot nie zadziałał! Jak to naprawić?
</title>
<body>

<p>
Powodem jest prawdopodobnie źle skonfigurowany yaboot.conf. Najprostszym
sposobem, aby to naprawić jest ponowne uruchomienie komputera za pomocą płyty
LiveCD, po czym montujemy partycję Gentoo i sprawdzamy yaboot.conf w
poszukiwaniu błędów. Po zakończeniu należy wykonać <c>ybin -v -C
/mnt/gentoo/etc/yaboot.conf</c>, aby uaktualnić bootloader. To wszystko może
być wykonane bez przechodzenia do środowiska chroot.
</p>

<note>
Jeśli <e>naprawdę</e> zależy nam na powrocie do OSX, to należy przytrzymać
klawisz Option podczas ładowania systemu. To powinno wyświetlić graficzną listę
wyboru ładowalnych dysków.  Wybieramy OSX, ale pamiętamy o naprawieniu
problemów z ładowaniem systemu później.
</note>

</body>
</section>
<section id="xfs">
<title>
Przy próbie uruchomienia, yaboot pokazuje tylko "read error"! Dlaczego nie mogę
go uruchomić?
</title>
<body>

<p>
Najprawdopodobniej powyższy błąd został spowodowany użyciem XFS na partycji
root. Mimo, iż jest to dopuszczalne, yaboot może mieć problemy z dostępem do
"dziurawych plików". Aby upewnić się, że nasz kernel się uruchomi, należy
zamiast zwykłego kopiowania pliku vmlinux do /boot, użyć na nim programu
<c>cat</c> tak jak zostało to pokazane:
</p>

<pre caption="Naprawianie błędów yaboot spowodowanych XFS">
# <i>cat /usr/src/linux/vmlinux &gt; /boot/vmlinux</i>
</pre>

</body>
</section>
<section id="applebrokeit">
<title>
Po zainstalowaniu aktualizacji OSX uruchamia się tylko ten system! W jaki sposób
to naprawić?
</title>
<body>

<p>
Podczas uruchamiania należy wcisnąć klawisz opcji. W ten sposób przywołamy
graficzny program do wyboru urządzenia, z którego ma zostać uruchomiony system.
Po chwili powinien pojawić się dysk oznaczony pingwinem, w który trzeba kliknąć.
W ten sposób uruchomimy nasz system linux. Po zakończeniu procesu uruchomienia
dobrze jest wpisać <c>ybin -v</c> w celu naprawienia programu ładującego.
</p>

</body>
</section>
<section id="stupidclock">
<title>
Nie mogę uruchomić komputera za pomocą InstallCD! Zatrzymuje się na etapie
ustawiania zegara sprzętowego. Co robić?
</title>
<body>

<p>
Niestety w niektórych wersjach baselayout znajdował się błąd. Aby uruchomić
system z płyty musimy ustawić zegar sprzętowy. Żeby własnoręcznie dokonać
ustawienia zegara należy uruchomić Open Firmware (używając kombinacji klawiszy
Apple + O + F). Kiedy już jesteśmy w środowisku Open Firmware należy ustawić
zegar przy pomocy polecenia podanego poniżej:
</p>

<pre caption="Ustawianie zegara w środowisku open firmware">
<comment># decimal dev rtc sec min hour day month year set-time</comment>
<comment># Poniższe przykładowe polecenie ustawi zegar na 1:23:45 June, 7th, 2000</comment>
  ok
0 > decimal dev rtc 45 23 1 6 7 2000 set-time
  ok
1 >
</pre>

<p>
Open Firmware powinien zwrócić komunikat ok po poprawnym ustawieniu zegara. Po
tej operacji system powinien uruchomić się bez przeszkód. Aby kontynuować
uruchamianie komputera należy wpisać polecenie <c>mac-boot</c>.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Obsługa sprzętu</title>
<section id="laptoppkgs">
<title>
Jakie pakiety należy zainstalować, pracując na Gentoo na laptopie PowerPC, aby
załączyć zespół funkcji charakterystycznych dla laptopów?
</title>
<body>

<p>
Istnieją cztery główne pakiety, które należy zainstalować.
</p>

<ul>
  <li>
    <e>pbbuttonsd</e> jest narzędziem, które załącza klawisze do regulacji
    jasności oraz głośności na większości laptopów ppc.  Obecne wersje pracują
    także jako menedżery zasilania zastępujące <e>pmud</e>
  </li>
  <li>
    <e>powerprefs</e> daje możliwość graficznej konfiguracji oraz edycji
    ustawień pbbuttonsd takich jak zarządzanie zasilanie, opcje gładzika i inne
  </li>
  <li>
    <e>powernowd</e> pozwala na zmianę częstotliwości procesora, co przynosi
    dłuższą żywotność baterii. Innym pakietami posiadającym podobny zespół
    funkcji są <e>cpudyn</e>, <e>cpufreqd</e> i <e>speedfreq</e>. Nie ważne,
    który z nich wybierzemy, musimy się upewnić, iż mamy w naszym jądrze
    odblokowaną opcję <e>userspace</e> cpu frequency scalling governor.
 </li>
</ul>

<p>
Te pakiety można zainstalować poprzez wykonanie odpowiednich poleceń z listy
poniżej:
</p>

<pre caption="Instalacja pakietów charakterystycznych dla laptopów">
# <i>emerge pbbuttonsd</i>
# <i>emerge powerprefs</i>
# <i>emerge powernowd</i>
</pre>

<note>
Aby ustawić pbbuttonsd do naszych potrzeb powinniśmy przeedytować plik
<path>/etc/pbbuttonsd.conf</path> lub użyć <e>powerprefs</e>.
Zachowanie klawiszy Fx może być tu kontrolowane tak samo jak wiele opcji
uśpienia. Aby klawisze Fx zachowywały się tak jak pod OSX, należy ustawić
KBDMode na fkeyslast. Możemy wyłączyć podsłuchiwanie tabliczki dotykowej poprzez
ustawienie TPMode na notap. Dostępnych jest także wiele innych opcji, szczegóły
znajdują się w <c>man pbbuttonsd.conf</c>.
</note>

<p>
Pomocne jest dodanie pbbuttonsd i cpudyn do poziomu uruchamiania o nazwie
'boot', po to aby były one uruchamiane podczas ładowania systemu. Wykonujemy:
</p>

<pre caption="Dodajemy pbbuttonsd i cpudyn do poziomu uruchamiania o nazwie 'boot'">
# <i>rc-update add pbbuttonsd boot</i>
# <i>rc-update add powernowd boot</i>
</pre>

</body>
</section>
<section id="onebutton">
<title>
Jak można używać drugiego i trzeciego przycisku myszy, posiadając mysz z jednym
przyciskiem (przycisk ctrl nie działa)?
</title>
<body>

<p>
W Mac OS X nie można korzystać z przycisku ctrl, ale można mapować dowolny inny
klawisz do emulowania drugiego i trzeciego przycisku myszki. Odpowiednie
wartości można uzyskać dzięki programowi <c>showkey</c>, z którego korzysta się
w konsoli, gdyż program ten nie działa w X. Aby skorzystać z tej możliwości,
należy włączyć następujące opcje w jądrze:
</p>

<pre caption="Włączenie obsługi 2 i 3 przycisków myszy">
[*] Apple Desktop Bus (ADB) support
[*]    Use input layer for ADB devices
[*]      Support for mouse button 2+3 emulation
</pre>

<p>
Konieczne będzie także ustawienie mapowania klawiszy klawiatury i myszki w
pliku <path>/etc/sysctl.conf</path>. Poniżej przykład dla F11 i F12:
</p>

<pre caption="Emulowanie przycisków myszki poprzez F11 i F12">
<comment># Włączamy emulację</comment>
dev.mac_hid.mouse_button_emulation = 1
<comment># 2 klawisz, 87 - F11</comment>
dev.mac_hid.mouse_button2_keycode = 87
<comment># 3 klawisz, 88 - F12</comment>
dev.mac_hid.mouse_button3_keycode = 88
</pre>

<note>
Inne popularne kody przycisków to 125 (przycisk Apple) i 96 (Enter z klawiatury
numerycznej).
</note>

<p>
W celu uaktywnienia tych ustawień wpisujemy:
</p>

<pre caption="Zapisywanie ustawień sysctl">
# <i>sysctl -p /etc/sysctl.conf</i>
</pre>

</body>
</section>
<section id="airport">
<title>Jak skonfigurować kartę Airport?</title>
<body>

<p>
Karta Airport jest urządzeniem 802.11b opartym na chipsecie Lucent Orinoco. Aby
skorzystać z takiej karty pod Linuksem, należy włączyć następujące opcje w
jądrze:
</p>

<pre caption="Bezprzewodowy LAN">
[*] Wirless LAN Drivers &amp; Wireless Extensions
&lt;*&gt; Hermes chipset 802.11b support (Orinoco/Prism2/Symbol)
&lt;*&gt;   Apple Airport support (build-in)
</pre>

<p>
Po skonfigurowaniu jądro trzeba zainstalować jeszcze narzędzia do konfiguracji
sieci bezprzewodowej. <c>iwconfig</c> i reszta programów, wchodzą w skład
pakietu <c>wireless-tools</c>.
</p>

<p>
W celu ustawienia ESSID na wartość home_essid należy wpisać:
</p>

<pre caption="Konfiguracja ESSID">
# <i>iwconfig eth1 essid home_essid</i>
</pre>

<p>
Więcej szczegółów dotyczących iwconfig znajduje się w opisie <uri
link="http://www.gentoo.org/doc/pl/handbook/handbook-ppc.xml?part=4">konfiguracji
sieci w Gentoo</uri>
</p>

</body>
</section>
<section id="airportextreme">
<title>Jak skonfigurować kartę Airport Extreme?</title>
<body>

<p>
Od kiedy pojawił się natywny sterownik <uri
link="http://bcm43xx.berlios.de">bcm43xx</uri>, z obsługą tych kart nie ma
problemu. Sterownik ów wchodzi w skład jądra 2.6.17_rc2.  W celu jego aktywacji
należy wybrać poniższe opcje (pamiętajmy aby aktywować najpierw SoftMAC!):
</p>

<pre caption="Dodawanie wsparcia dla bcm43xx do kernela">
Networking --&gt;
      &lt;M&gt;   Generic IEEE 802.11 Networking Stack
      [*]     Enable full debugging output
      &lt;M&gt;     IEEE 802.11 WEP encryption (802.1x)
      &lt;M&gt;     IEEE 802.11i CCMP support
      &lt;M&gt;     IEEE 802.11i TKIP encryption
      &lt;M&gt;     Software MAC add-on to the IEEE 802.11 networking stack
      [*]       Enable full debugging output

   Device Drivers --&gt; Network device support --&gt; Wireless LAN drivers (non-hamradio) &amp; Wireless Extensions
      &lt;M&gt;   Broadcom BCM43xx wireless support
      [*]     Broadcom BCM43xx debugging (RECOMMENDED)
</pre>

<p>
Po skompilowaniu jądra konieczne jest zainstalowanie <c>bcm43xx-fwcutter</c> aby
zainstalować firmware. Dodatkoe informacje na ten temat możemy znaleźć w
<uri link="http://forums.gentoo.org/viewtopic-t-409194.html">tym wątku na
forum</uri>.
</p>

<p>
Więcej informacji na temat ustawiania łącz bezprzewodowych z Gentoo, można
znaleźć w opisie <uri
link="http://www.gentoo.org/doc/pl/handbook/handbook-ppc.xml?part=4">konfiguracji
sieci w Getnoo</uri>
</p>

</body>
</section>
<section id="modem">
<title>Czy zadziała modem wewnętrzny?</title>
<body>

<p>
W starszych komputerach, wewnętrzny modem jest zwykłym urządzeniem szeregowym.
Aby mógł działać, poza obsługą ppp i i2c, należy zaznaczyć w jądrze także
następujące opcje:
</p>

<pre caption="Sterowniki urządzeń szeregowych">
&lt;*&gt; PowerMac z85c30 ESCC support (CONFIG_SERIAL_PMACZILOG)
</pre>

<p>
Nowsze komputery korzystają z urządzenia USB, dla których jedyne dostępne
sterowniki pochodzą od Linuxant. Jeśli nie kupi się klucza od Linuxant,
sterownik zezwoli jedynie na transfery z prędkością 14.4 i nie pozwoli na
korzystanie z FAX-u. Sterownik ten wchodzi w skład pakietu
<c>net-dialin/hcfusbmodem</c>, który tworzy również <path>/dev/ttySHCF0</path>.
Po zainstalowaniu pakietu należy skonfigurować ppp w tradycyjny sposób.
Dodatkowe informacje znajdują się pod adresem
<uri>http://www.linuxant.com/drivers/hcf/install.html</uri>.
</p>

</body>
</section>
<section id="sleep">
<title>Czy działa uśpienie w iBooku lub PowerBooku?</title>
<body>

<p>
Uśpienie (zrzucenie wszystkich potrzebnych informacji do pamięci RAM) działa
bardzo dobrze na wszystkich iBookach i TiBookach G3. Ostatnio została
udostępniona łatka na jądro, która dodaje wsparcie uśpienia dla iBooków i
AlBooków G4 opartych na kartach graficznych Radeon. Jeśli posiadamy jeden z
tych laptopów, to aby posiadać wbudowane wsparcie w jądrze, należy używać jądra
gentoo-sources 2.6.11 (lub nowszego).
</p>

<note>
Należy zauważyć, że 12" PowerBook nie jest wspierany, gdyż posiada układ
nVidii.
</note>

</body>
</section>
<section id="sound">
<title>Jak uruchomić dźwięk?</title>
<body>

<p>
W nowoczesnych jądrach istnieją dwa podejścia do tego zagadnienia. Są nimi OSS
i ALSA. OSS jest starszym rozwiązaniem, które straciło na wartości, ale nadal
dobrze funkcjonuje na starszych Mac-ach. ALSA jest nowszym podejściem, które
jest i będzie w przyszłości wspierane. Zalecane jest używanie ALSA dopóki nie
napotkamy na problemy.
</p>

<note>
Jeśli wkompilujemy w jądro sterownik OSS, sterownik ALSA nie załaduje się.
</note>

<p>
Oprócz konfiguracji jądra, należy także dodać użytkowników, którzy chcą mieć
dostęp urządzeń dźwiękowych, do odpowiedniej grupy za pomocą polecenia:
</p>

<pre caption="Dodawanie użytkowników do grupy audio">
# <i>gpasswd -a użytkownik audio</i>
</pre>

<p>
Jeśli jądro jest ustawione poprawnie, lecz nie słychać żadnych dźwięków, wtedy
należy się upewnić, że głośność głównego miksera jest zwiększona oraz, że
urządzenie nie jest wyciszone!
</p>

<note>
Karty dźwiękowe w Mac'ach są podłączone poprzez szynę i2c Keywest/PowerMac, a
nie poprzez PCI. Nie zobaczymy jej zatem w momencie listowania urządzeń PCI lub
przy użyciu alsaconf. Wbrew pozorom nie jest to poważny problem, ponieważ
wszystkie Mac'i używają tego samego sterownika do dźwięku. Będziemy musieć się
tylko upewnić czy mam zaznaczone wsparcie dla i2c Keywest/PowerMac w naszym
jądrze.
</note>

<impo>
Jeżeli wkompilujemy w jądro obsługe ALSA, musimy dodatkowo wkompilować wsparcie
dla i2c Keywest/PowerMac. Brak zaznaczenia przy tej opcji spowoduje bowiem błąd
Kernel panic podczas startu systemu.
</impo>

</body>
</section>
<section id="alsa">
<title>Ustawienie dźwięku za pomocą ALSA</title>
<body>

<p>
Ustawimy standardowe sterowniki ALSA oraz warstwę emulacji OSS, po to abyśmy
mogli nadal korzystać z programów, które używają tylko OSS. W <c>make
menuconfig</c> należy wybrać:
</p>

<pre caption="Opcje jądra dla ALSA">
Device Drivers - Sound ---&gt;
&lt;*&gt; Sound card support
    Advanced Linux Sound Architecture ---&gt;
    &lt; &gt;   PowerMac DMA sound support
      &lt;*&gt; Advanced Linux Sound Architecture
      &lt;*&gt; Sequencer support
      &lt;*&gt; Sequencer dummy client
      &lt;*&gt; OSS Mixer API
      &lt;*&gt; OSS PCM (digital audio) API
      [*] OSS Sequencer API
</pre>

<p>
W zależności od wieku naszego komputera powinniśmy uaktywnić odpowiedni
sterownik dźwięku. Na nowszych komputerach takich jak Aluminum PowerBooks, nowe
iBooki czy G5 należy używać sterownika <c>Apple On-board Audio</c>. W przypadku
starszych konstrukcji, dobrze będzie wypróbować sterownik ALSA PowerMac.
</p>

<pre caption="Sterownik ALSA - wybieramy tylko jeden">
<comment>Starsze komputery</comment>
         ALSA PowerMac devices ---&gt;
     &lt;*&gt; PowerMac (AWACS, DACA, Burgundy, Tumbler, Keywest)
<comment>Nowszeg komputery</comment>
    Apple Onboard Audio driver ---&gt;
      &lt;*&gt; Apple Onboard Audio driver
      &lt;*&gt;   layout-id fabric
      &lt;*&gt;   support Onyx chip
      &lt;*&gt;   support TAS chip
      &lt;*&gt;   support Toonie chip
</pre>

<p>
Możemy również skonfigurować sterowniki jako moduły i ładować je przy
uruchamianiu systemu. Prościej jednak będzie je po prostu wkompilować w jądro.
</p>

<note>
Należy się upewnić, że opcja <c>PowerMac DMA sound support</c> jest wyłączona,
w przeciwnym wypadku moduł ALSA nie załaduje się.
</note>

<p>
Więcej informacji na temat konfiguracji można znaleźć w dokumencie
zatytułowanym <uri link="/doc/pl/alsa-guide.xml">Konfiguracja sterowników
ALSA w Gentoo</uri>.
</p>

<note>
Jeśli korzysta się ze sterowników z pakietu alsa-driver zamiast tych
wbudowanych w jądro, należy ustawić zmienną ALSA_CARDS na <c>powermac</c> w
przypadku starszych komputerów lub <c>aoa</c>, <c>aoa-fabric-layout</c>,
<c>aoa-soundbus</c>, <c>aoa-soundbus-i2c</c>, <c>aoa-onyx</c>, <c>aoa-tas</c>
and <c>aoa-toonie</c> gdy jesteśmy właścicielami nowszej konstrukcji.
</note>

</body>
</section>
<section id="oss">
<title>Ustawienie dźwięku za pomocą OSS</title>
<body>

<note>
OSS używamy tylko wtedy, jeśli nie używamy ALSA
</note>

<p>
W <c>make menuconfig</c> należy wybrać:
</p>

<pre caption="Opcje jądra dla OSS">
&lt;*&gt; Sound card support
  &lt;*&gt;   PowerMac DMA sound support
</pre>

<p>
(lub ustawiamy jako moduły, które będą ładowane podczas startu systemu).
</p>

<p>
Jeśli nie ładuje się moduł <c>dmasound_pmac</c>, należy zbudować
<c>i2c-core</c> jako moduł.
</p>

<note>
Jeżeli dalej używamy OSS, powinniśmy chociaż przetestować sterowniki ALSA.
Wszelkie sugestie oraz uwagi wysłane na bugzille ALSA, będą mile widziane.
</note>

</body>
</section>
<section id="wakeon">
<title>
Jak sprawić, aby karta sieciowa uruchamiała się po zaniknięciu
zasilania?
</title>
<body>

<p>
Jednostka zarządzając zasilaniem (and. PMU - Power Management Unit) w
większości przypadków posiada możliwość ponownego uruchomienia karty
sieciowej po zaniknięciu zasilania. Opcja ta kontrolowana jest poprzez opcje
PMU, które można znaleźć w katalogu <path>/proc</path>. Aby ją uaktywnić należy
ustawić zmienną <c>server_mode</c> na wartość 1, aby ją wyłączyć ponownie
zmieniamy wartość wyżej wymienionej zmiennej, tym razem jednak na 0.
</p>

<pre caption="Uaktywnianie opcji ponownego startu po utracie zasilania">
# <i>echo "server_mode=1" > /proc/pmu/options</i>
</pre>

<p>
Niestety, opcja ta zostaje wyłączona przy każdym ponownym uruchomieniu
komputera. Aby mieć pewność, że tak się nie stanie należy dodać powyższy wpis
do pliku <path>/etc/conf.d/local.start</path>.
</p>

</body>
</section>
<section id="infrombadport">
<title>
W pliku dmesg znajduje się dużo błędów typu "IN from bad port". Jak się
ich pozbyć?
</title>
<body>

<p>
Powyższy błąd spowodowany jest przez sterowniki dla urządzeń, których nie
posiadamy w naszym komputerze. Z reguły nie wpływają one w żaden sposób na
jego działanie, lecz mimo wszystko zablokowanie nieużywanych sterowników jest
dobrym pomysłem. Poniżej znajduje się kilka wskazówek jak poradzić sobie z
paroma konkretnymi błędami. Jeżeli numery portów nie zgadzają się z tymi, które
pojawią się w naszym "dmesgu" i tak możemy spróbować zablokować poniższe. Wiele
komputerów PPC i tak ich nie używa.
</p>

<pre caption="IN from bad port 61 - Wyłączenie głośniczka systemowego">
Device Drivers - Input device support ---&gt;
[*] Miscellanous devices ---&gt;
      &lt; &gt; PC Speaker Support
</pre>

<pre caption="IN from bad port 64 - Wyłączenie kontrolera klawiatury i8042">
Device Drivers - Input device support ---&gt;
Hardware I/O Ports ---&gt;
      &lt; &gt; Serial I/O support
        &lt; &gt; i8042 PC Keyboard controller
</pre>

<pre caption="IN from bad port 2E9,2F9,3E9,3F9 - Wyłącznie wsparcia dla 8250/16550">
Device Drivers - Character devices ---&gt;
Serial drivers ---&gt;
      &lt; &gt; 8250/16550 and compatible serial support
</pre>

<p>
Jeżeli pojawia nam się błąd inny od powyższych, którego powodu nie jesteśmy
pewni, jesteśmy proszeni o powiadomienie autorów tekstu.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Aplikacje</title>
<section id="masked">
<title>
Podczas próby instalacji pakietu wyświetlany jest błąd mówiący o tym, że pakiet
został zamaskowany. Co robić?
</title>
<body>

<p>
Najczęściej istnieją dwa powody przez które pakiet nie zainstaluje się. Powód
pierwszy, pakiet nie został przetestowany na architekturze PPC, powód drugi,
pakiet był testowany jednakże nie został on jeszcze oznaczony jako stabilny.
</p>

<pre caption="Pakiet nie został przetestowny na PPC">
!!! All ebuilds that could satisfy "bar" have been masked.
!!! One of the following masked packages is required to complete your request:
 - app-foo/bar-1.0 (masked by: missing keyword)
</pre>

<p>
Jeśli pakiet nie został przetestowany na architekturze PPC, należy dodać słowo
kluczowe ppc do ebuildu. Wykonamy to za pomocą narzędzia ekeyword, które jest
częścią pakietu gentoolkit-dev. Dodawanie słowa kluczowego do ebuildu oraz
sprawdzenie jego sum md5 w celu uwzględnienia przez portage zmian:
</p>

<pre caption="Dodawanie słowa kluczowego ppc do app-foo/bar">
# <i>ekeyword ppc /usr/portage/app-foo/bar/bar-1.0.ebuild</i>
# <i>ebuild /usr/portage/app-foo/bar/bar-1.0.ebuild digest</i>
</pre>

<p>
Po czym możemy zainstalować pakiet. Testujemy aplikację, jeśli działa, wtedy
<b>należy</b> wysłać błąd na Bugzillę (wymagana bezpłatna rejestracja), aby
jeden z deweloperów mógł dodać słowo kluczowe do ebuildu.
</p>

<note>
Ta zmiana będzie usunięta podczas najbliższej synchronizacji. Jeśli
potrzebujemy tę poprawkę na dłużej, wtedy można utworzyć portage overlay.
Więcej informacji na ten temat znajduje się w dokumentacji Portage.
</note>

<pre caption="Ten pakiet nie został jeszcze oznaczony jako stabilny">
!!! All ebuilds that could satisfy "bar" have been masked.
!!! One of the following masked packages is required to complete your request:
- app-foo/bar-1.0 (masked by: ~ppc keyword)
</pre>

<p>
Jeśli pakiet posiada już słowo kluczowe ~ppc, to mamy dwa wyjścia. Można
zastąpić słowo kluczowe ~ppc przez ppc, lub można użyć
<path>/etc/portage</path>, aby odmaskować dany pakiet. Drugie rozwiązanie jest
bardziej polecane z prostego powodu - Przy najbliższym <c>emerge sync</c> zmiany
nie zostaną nadpisane.
</p>

<pre caption="Używanie /etc/portage do odmaskowania app-foo/bar">
$ <i>echo "=app-foo/bar-1.0 ~ppc" > /etc/portage/package.keywords</i>
</pre>

<note>
Jeśli katalog <path>/etc/portage</path> nie istnieje, należy go najpierw
stworzyć.
</note>

<p>
Następnie instalujemy pakiet. Jeśli jesteśmy pewni, że aplikacja jest stabilna,
wtedy <b>proszę</b> wysłać błąd na Bugzillę (wymagana bezpłatna rejestracja),
aby jeden z deweloperów mógł dodać słowo kluczowe do ebuildu.
</p>

</body>
</section>
<section id="flash">
<title>Czy Gentoo na architekturze PPC wspiera Flash?</title>
<body>

<p>
Raczej nie. Macromedia nie dostarczyła Linuksom na architekturze PPC plików
binarnych, natomiast rozwiązania open source są niekompletne i pełne błędów.
Najlepszym z dostępnych jest projekt <uri
link="http://www.gnu.org/software/gnash/">gnash</uri>.
</p>

<p>
Następnym możliwym obejściem tego problemu jest użycie qemu (emulator na
architekturę x86) w celu uruchomienia niezależnego Macromedia
Flash Player. Ten proces był opisany na forum:
<uri>http://forums.gentoo.org/viewtopic.php?t=117774</uri>
</p>

</body>
</section>
<section id="java">
<title>Czy Gentoo na architekturze PPC ma wtyczkę z Javą</title>
<body>

<p>
Tak, można skorzystać z pluginu Java autorstwa IBM w wersji 1.5 beta. Trzeba
jednak wiedzieć, że nie wszystkie Javowe aplikacje współpracują z Java 1.5
</p>

</body>
</section>
<section id="xorg">
<title>Czy istnieje prosty sposób konfiguracji środowiska X?</title>
<body>

<p>
Po prostu instalujemy <c>Xautoconfig</c>, a potem wykonujemy polecenie
Xautoconfig, aby stworzyć plik konfiguracyjny z naszymi
ustawieniami. Aby wybrać mapowanie klawiatury, należy wykorzystać flagę
--keymap. <c>Xorgautoconfig</c> nie ustawi DRM dla większości użytkowników,
zwykle trzeba będzie poprawić w tym celu konfigurację jądra.
</p>

</body>
</section>
<section id="drm">
<title>Czego wymaga DRM?</title>
<body>

<p>
Kiedy instalujemy xorg-server, powinniśmy się upewnić, że mamy włączoną flagę
USE dri. Możemy również sprecyzować zmienną VIDEO_CARDS w pliku make.conf. Dla
radeonów będzie miała ona postać VIDEO_CARDS="radeon", dla nvidii,
VIDEO_CARDS="nv". W inny przypadku należy podać odpowiednią wartość. Jako
zabezpieczenie, należy również dodać do tej zmiennej wartość fbdev. Sterownik
ten działa w każdym przypadku.
</p>

<p>
Jądro należy mieć skompilowane z następującymi opcjami:
</p>

<pre caption="Konfiguracja jądra z DRM dla Rage 128">
 Device Drivers - Character devices ---&gt;
   &lt;*&gt; /dev/agpgart (AGP Support)
   [*] Apple UniNorth support
   [*] Direct Rendering Manager (DRI support)
   &lt;*&gt;   ATI Rage 128
 Device Drivers - Graphics Support ---&gt;
   &lt;*&gt;   ATI Rage 128 display support
</pre>
<pre caption="Konfiguracja jądra z DRM dla Radeonów">
Device Drivers - Character devices ---&gt;
  &lt;*&gt; /dev/agpgart (AGP Support)
  [*] Apple UniNorth support
  [*] Direct Rendering Manager (DRI support)
  &lt;*&gt;   ATI Radeon
Device Drivers - Graphics Support ---&gt;
   &lt;*&gt;   ATI Radeon display support
 </pre>
<pre caption="Konfiguracja jądra z DRM dla kart nVidia">
Device Drivers - Graphics Support ---&gt;
   &lt;*&gt;   nVidia Framebuffer Support
</pre>

<note>
Aktualnie nie ma wsparcia dla DRM na kartach nVidia, gdyż nVidia nie wydała
jeszcze sterowników dla PPC a w przypadku tych kart nie ma żadnych otwartych
sterowników ze wsparciem dla akceleracji 3D
</note>

<p>
Jeśli zachodzi taka potrzeba, kompilujemy ponownie i instalujemy jądro.  Potem
należy się upewnić, że załadowaliśmy system używając rodzimego bufora ramki
(np.  radeonfb lub atyfb128, ale <e>nie</e> za pomocą offb lub ofonly video), a
następnie wykonujemy <c>Xorgautoconfig</c>.
</p>

<impo>
Może być również potrzebna edycji pliku <path>/etc/X11/xorg.conf</path>
zależnie od ustawień karty. Należy się upewnić, że wybranym sterownikiem
urządzenia jest ati lub inny specyficzny dla naszej karty (r128 lub radeon).
Należy również się upewnić, że rozszerzenie DRI jest załadowane,
niezakomentowane.
</impo>

</body>
</section>
<section id="noati">
<title>
Zainstalowano X.org i skonfigurowano go poprawnie, ale brakuje sterownika
radeon. W czym tkwi problem?
</title>
<body>
  	 
<p>
Z powodu błędu w tworzeniu domyślnych opcji dla GRP, sterowniki dla r128 oraz
radeon pozostały wyłączone w wydaniu 2007.0. Należy dodać odpowiedni wpis
VIDEO_CARDS w pliku <path>/etc/make.conf</path> po czym nalezy zrekompilować
<c>xorg-server</c> i <c>mesa</c> w celu przebudowania sterownika. Przepraszamy
za niedogodności.
</p>
  	 
<note>
Jest to również rozwiązaniem jeśli zapomnieliśmy dodać właściwej karty
w VIDEO_CARDS i skompilować samemu.
</note>
  	 
</body>
</section>
<section id="xorgerror">
<title>
W pliku xorg.log pojawia się błąd VBIOS lub "Invalid I/O allocation". Czy
to poważny problem?
</title>
<body>

<p>
Nie. Błąd ten jest z reguły spowodowany tym, iż X.org testuje naszą kartę
graficzną. Próbując przy tym otworzyć "x86 only video BIOS", co kończy się
niepowodzeniem oraz zostawieniem tej wiadomości. Jednak nie musimy się o nic
martwić, jest to nieszkodliwy problem.
</p>

</body>
</section>
<section id="glfreeze">
<title>
Używając OpenGL DRI lub oglądając filmy, czasami system nieoczekiwanie blokuje
się. Co robić?
</title>
<body>

<p>
System może nieprawidłowo radzić sobie z wsparciem dla AGP. Najłatwiejszym
rozwiązaniem jest dodanie następującej linii do części "Device" w pliku
<path>/etc/X11/xorg.conf</path>:
</p>

<pre caption="Przymusowy tryb PCI dla kard AGP">
Option       "ForcePCIMode"
</pre>

<p>
Istnieją również problemy z rozszerzeniem composite i innymi rozszerzeniami
załączonymi do nowszych wydań pakietu X.org.
</p>

<p>
Jeśli to nie pomoże, należy wyłączyć dri w <path>xorg.conf</path> i sprawdzić
czy to nie rozwiąże problemu.
</p>

</body>
</section>
<section id="keymap">
<title>
Międzynarodowy układ klawiatury nie działa poprawnie na zainstalowanym Xorgu.
Główne klawisze działają dobrze, ale nie da się złożyć żadnego znaku
specjalnego, chociażby znaku "@". Wyjście startx wyświetla coś w rodzaju "could
not load keymap, falling back to default keymap". Co jest źle?
</title>
<body>

<p>
Należy sprawdzić czy uprawnienia do katalogu <path>/var/tmp</path> są ustawione
na <path>drwxrwxrwx</path>. Jeśli nie, należy je zmienić poprzez wpisanie
<c>chmod a+rwx /var/tmp</c>. To pozwoli Xorgowi ponownie ładować poprawne
układy
klawiszy.
</p>

</body>
</section>
<section id="audiocd">
<title>Jak odtwarzać płyty audio?</title>
<body>

<p>
Komputery NewWorld nie posiadają połączenia pomiędzy napędem CD-ROM, a kartą
dźwiękową. W związku z tym muzykę trzeba odczytywać jak zwykłe dane, a potem
należy przekierować ją do karty. Umożliwia to program <e>Audacious</e>.
Odczytuje on dźwięk z CD poprzez kabel ATA, dekoduje go i przesyła do karty
dźwiękowej w formie cyfrowej poprzez szynę PCI.
</p>

<pre caption="Instalacja Audaciousa">
# <i>emerge audacious</i>
</pre>

<p>
Aby przesłuchać płytę, wystarczy uruchomić <c>audaciousa</c>. Jeżeli mam
problem z odtwarzaniem należy otworzyć panel Preferences-->Plugins-->CD Audio i
wybrać odpowiedni napęd CD. Należy się również upewnić, że mamy zaznaczoną
opcję "Digital audio extraction".
</p>

</body>
</section>
<section id="mol">
<title>Czy można uruchomić Mac OS 9 lub Mac OS X pod Gentoo?</title>
<body>

<p>
Tak, pod warunkiem, że pracujemy na Gentoo na 32-bitowej architekturze PPC,
możemy użyć <uri link="http://www.maconlinux.org/">Mac-on-Linux</uri>,
który pozwala uruchomić instancję systemu OS 9, OS X lub Linux jako proces
Linuksa. Aby zainstalować ten pakiet, wykonujemy <c>emerge mol</c>. MOL wspiera
Mac OS 7.5.2 aż do wersji 9.2.2, a także wszystkie wersje OS X. Może zostać
uruchomiony spod bufora ramki konsoli lub w oknie środowiska X.
</p>

<note>
Aktualnie nie ma wsparcia dla MOL na 64 bitowych procesorach PPC
</note>

<note>
Aby uruchomić MOL w trybie pełnoekranowym, należy go skompilować z załączoną
flagą USE 'fbcon' i uruchomić w spod bufora ramki konsoli.
</note>

<p>
Sterowniki sieciowe oraz dźwięku instalujemy w katalogu
<path>MOL-Install</path> na pulpicie w Mac OS X. Jeśli wystąpią problemy z
siecią, należy się upewnić, że następujące opcje mamy wkompilowane w jądro:
</p>

<p>
Dla sieci w OSX:
</p>

<ul>
  <li>Universal TUN/TAP device driver support (CONFIG_TUN)</li>
</ul>

<p>
Dla serwera DHCP:
</p>

<ul>
  <li>Socket Filtering (CONFIG_FILTER)</li>
  <li>Packet Socket (CONFIG_PACKET)</li>
</ul>

<p>
Dla NAT:
</p>

<ul>
  <li>Network packet filtering (CONFIG_NETFILTER)</li>
  <li>Connection tracking (CONFIG_IP_NF_CONNTRACK)</li>
  <li>IP tables support (CONFIG_IP_NF_IPTABLES)</li>
  <li>Packet filtering (CONFIG_IP_NF_FILTER)</li>
  <li>Full NAT (CONFIG_IP_NF_NAT)</li>
  <li>MASQUERADE target support (CONFIG_IP_NF_TARGET_MASQUERADE)</li>
</ul>

</body>
</section>
<section id="ext">
<title>Czy mamy dostęp do partycji ext2 lub ext3 spod OSX?</title>
<body>

<p>
OSX wspiera odczyt oraz zapis na partycji ext2 lub ext3 poprzez rozszerzenie
jądra dostarczone przez <uri
link="http://sourceforge.net/projects/ext2fsx">projekt ext2fsx</uri>.
</p>

<note>
Używając MOL, nie posiadamy dostępu do partycji obecnie używanych przez
Linuksa.
</note>

</body>
</section>
<section id="useflags">
<title>Które flagi USE nie działają na maszynach PowerPC?</title>
<body>

<p>
Jeśli używamy starego profilu (sprzed 2005.0) to, aby sprawdzić listę tych
flag, należy spojrzeć do pliku <path>/etc/make.profile/use.mask</path>.
</p>

<p>
Jeśli używamy kaskadowego profilu (2005.0 i późniejszych) wtedy, aby zobaczyć
listę tych flag, zaglądamy do pliku
<path>/usr/portage/profiles/default-linux/ppc/use.mask</path>.
</p>

</body>
</section>
<section id="distcc">
<title>Jak można ustawić distcc z maszyną opartą na architekturze x86?</title>
<body>

<p>
Jeśli posiadamy inny szybszy komputer, możemy założyć distcc, aby kompilować
pliki binarne dla wolniejszego procesora na architekturze ppc. Najlepiej, aby
jak najwięcej kompilacji odbywało się na szybszym komputerze, oczywiście jeśli
to jest możliwe. Nawet nie warto niczego kompilować na wolniejszym komputerze.
Dodatkowe informacje znajdziemy na stronach:
<uri>http://dev.gentoo.org/~vapier/CROSS-COMPILE-HOWTO</uri> i <uri>
http://www.sable.mcgill.ca/~dbelan2/crossdev/crossdev-powerpc-i686.html</uri>
</p>

</body>
</section>
<section id="gccsegfaults">
<title>Dlaczego gcc wyświetla błędy podczas budowania pakietów?</title>
<body>

<p>
Jeśli gcc wyświetla błędy naruszenia ochrony pamięci, prawdopodobnie nie jest
to błąd gcc i nie jest to nawet problem sprzętu. W większości przypadków jest
to spowodowane włączeniem wywłaszczenia jądra (ang. kernel preemption). Pomimo,
że ta opcja jest bezpieczna na architekturze x86, to właśnie ona może być
powodem uszkodzenia cache'a na PPC co jest najczęściej zauważanym błędem
podczas kompilacji. Aby temu zapobiec, kompilujemy ponownie jądro z wyłączoną
opcją wywłaszczania. Sprawdzamy czy wywłaszczanie jest załączone:
</p>

<pre caption="Sprawdzanie czy wywłaszczanie jest załączone">
$ <i>grep PREEMPT /usr/src/linux/.config</i>
</pre>

<p>
Jeśli zostanie zwrócone: "# CONFIG_PREEMPT is not set", wtedy należy zgłosić
ten błąd.
</p>

<p>
Jeśli zwróci: "CONFIG_PREEMPT=y", wtedy należy wyłączyć tę opcję i ponownie
skompilować jądro.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Zasoby</title>
<section id="cd">
<title>Czy można kupić płytę CD z Gentoo na architekturę PPC?</title>
<body>

<p>
Tak! Sprzedajemy Gentoo na płytach CD w naszym <uri
link="http://store.gentoo.org/">sklepie Gentoo</uri>.
</p>

</body>
</section>
<section id="notanswered">
<title>Nie ma tu odpowiedzi na moje pytanie, co robić dalej?</title>
<body>

<p>
Po pierwsze należy przeszukać <uri link="/doc/pl/index.xml">dokumentację na
www.gentoo.org</uri>. Obecnie istnieją dwie <uri
link="/main/pl/lists.xml">listy dyskusyjne</uri> związane z architekturą PPC,
gentoo-ppc-dev oraz gentoo-ppc-user. <uri
link="http://forums.gentoo.org/viewforum.php?f=24">Gentoo na PPC</uri> (na
forums.gentoo.org) jest forum dyskusyjnym związanym problemami na PowerPC. Jak
zwykle istnieje również gorąca dyskusja na kanale IRC (<c>#gentoo-ppc</c> sieci
<c>irc.freenode.net</c>).
</p>

<p>
Ogólne informacje o Linuksach na PowerPC mogą być znalezione na stronie <uri
link="http://penguinppc.org/">penguinppc.org</uri>. Ogólne informacje o
Linuksie są na stronie <uri
link="http://www.linuxdoc.org/">www.linuxdoc.org</uri>.
</p>

</body>
</section>
</chapter>
</guide>
